(function(t){function e(e){for(var a,c,o=e[0],i=e[1],u=e[2],p=0,g=[];p<o.length;p++)c=o[p],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&g.push(s[c][0]),s[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(g.length)g.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},s={app:0},r=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/images-check/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=i;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s=n("a4ef"),r=n.n(s),c=Object(a["d"])("img",{class:"logo",alt:"Vue logo",src:r.a},null,-1);function o(t,e,n,s,r,o){var i=Object(a["g"])("ContentBlock");return Object(a["e"])(),Object(a["c"])("div",null,[c,Object(a["d"])(i,{msg:"File uploader"})])}var i={class:"content"},u={class:"content__title"},l={key:0,class:"content__mark"},p={key:1,class:"content__mark"},g={class:"content__submit"},f={key:0,class:"button button_type_check",type:"submit"},m={key:1,class:"button button_type_check",type:"submit",disabled:""};function d(t,e,n,s,r,c){var o=Object(a["g"])("Cards");return Object(a["e"])(),Object(a["c"])("div",i,[Object(a["d"])("h1",u,Object(a["h"])(n.msg),1),Object(a["d"])("form",{onSubmit:e[4]||(e[4]=function(){return c.onAddImages&&c.onAddImages.apply(c,arguments)}),class:"content__check"},[Object(a["d"])("input",{onDrop:e[1]||(e[1]=function(){return c.onDragDrop&&c.onDragDrop.apply(c,arguments)}),onDragover:e[2]||(e[2]=function(){return c.onDragOver&&c.onDragOver.apply(c,arguments)}),onChange:e[3]||(e[3]=function(){return c.isStatusInput&&c.isStatusInput.apply(c,arguments)}),type:"file",class:t.classActive,id:"input-image",multiple:"",accept:"image/*"},null,34),t.status?(Object(a["e"])(),Object(a["c"])("span",l,Object(a["h"])(t.messageStatus),1)):(Object(a["e"])(),Object(a["c"])("span",p,Object(a["h"])(t.messageStatus),1)),Object(a["d"])("div",g,[t.status?(Object(a["e"])(),Object(a["c"])("button",f," Отправить ")):(Object(a["e"])(),Object(a["c"])("button",m," Отправить "))])],32),Object(a["d"])(o,{srcImages:t.srcImages},null,8,["srcImages"])])}var b=n("2909"),h=(n("7db0"),n("a630"),n("3ca3"),n("b0c0"),n("159b"),n("4de4"),n("2ca0"),n("caad"),n("2532"),n("9911"),{class:"cards"}),O={key:1,class:"cards__title"};function v(t,e,n,s,r,c){return Object(a["e"])(),Object(a["c"])("div",h,[n.srcImages.length>0&&"".concat(t.status)?(Object(a["e"])(!0),Object(a["c"])(a["a"],{key:0},Object(a["f"])(n.srcImages.filter((function(e){return e.name!=="".concat(t.image)})),(function(t,n){return Object(a["e"])(),Object(a["c"])("div",{key:t.name,class:"card"},[Object(a["d"])("img",{onLoad:e[1]||(e[1]=function(){return c.getStore&&c.getStore.apply(c,arguments)}),id:n,class:"card__image",alt:t.name,src:t.link,onMousedown:e[2]||(e[2]=function(){return c.togglePopup&&c.togglePopup.apply(c,arguments)})},null,40,["id","alt","src"]),Object(a["d"])("button",{class:"button button_type_close",type:"button",id:t.name,onMousedown:e[3]||(e[3]=function(){return c.cardRemove&&c.cardRemove.apply(c,arguments)})},null,40,["id"])])})),128)):(Object(a["e"])(),Object(a["c"])("span",O,"Здесь будут отображаться ваши загруженные файлы")),Object(a["j"])(Object(a["d"])("div",{class:"popup popup_opened",onMousedown:e[4]||(e[4]=function(){return c.togglePopup&&c.togglePopup.apply(c,arguments)})},[Object(a["d"])("img",{class:"popup__pic",src:t.src,alt:"title"},null,8,["src"])],544),[[a["i"],t.popupStatus]])])}n("a9e3"),n("d81d");var j={name:"Cards",props:{srcImages:Array},data:function(){return{popupStatus:!1,src:"",title:"",message:"",image:"",status:!1}},methods:{getStore:function(t){if(this.srcImages.length-1===Number(t.target.id)){var e;localStorage.setItem("images",JSON.stringify(this.srcImages));var n=this.srcImages.map((function(t){return{name:t.name,link:t.link}}));(e=console).log.apply(e,Object(b["a"])(n))}},togglePopup:function(t){this.popupStatus=!this.popupStatus,this.src=t.target.src,this.title=t.target.alt},cardRemove:function(t){this.image=t.target.id;var e=JSON.parse(localStorage.getItem("images")).filter((function(e){return e.name!==t.target.id}));e.length>0?(this.status=!0,localStorage.setItem("images",JSON.stringify(e))):(this.status=!1,localStorage.setItem("images",JSON.stringify([])))}}};j.render=v;var y=j,_={components:{Cards:y},name:"ContentBlock",props:{msg:String},data:function(){return{srcImages:JSON.parse(localStorage.getItem("images"))||[],status:!1,classActive:"content__input",messageStatus:"Перенесите сюда файл"}},filesNames:[],fileLoader:[],methods:{findItem:function(t,e){var n=Array.from(t).find((function(t){return t.name===e}));return n},isStatusInput:function(t){var e=this,n=JSON.parse(localStorage.getItem("images"))||[],a=null;n.forEach((function(n){a=e.findItem(t.target.files,n.name)})),a?(this.status=!1,this.messageStatus="Файлы уже были добавлены",this.classActive="content__input content__input_error"):(n=this.srcImages,localStorage.setItem("images",JSON.stringify(n)),this.status=!0,this.messageStatus="Файлы получены",this.classActive="content__input content__input_active")},onAddImages:function(t){t.preventDefault(),this.status&&(this.readerImages(t.target[0].files),this.status=!1,this.messageStatus="Перенесите сюда файл",this.classActive="content__input",t.target.reset())},readerImages:function(t){var e=this;t.forEach((function(t){var n=[],a=new FileReader(t);a.onload=function(){e.srcImages.push({link:a.result,name:t.name}),n.push({code:a.result,nameFile:t.name,size:t.size})},a.readAsDataURL(t),console.log(n)}))},onDragDrop:function(t){var e=this;this.filesNames=Object(b["a"])(Array(this.filesNames||""));var n=Array.from(t.dataTransfer.files).filter((function(t){return t.type.startsWith("image/")})),a=[];n.forEach((function(t){e.filesNames.length>0&&e.filesNames.find((function(e){return e.includes(t.name)}))?(e.classActive="content__input content__input_error",e.messageStatus="Файлы уже были добавлены"):(e.filesNames.push(t.name),a.push(t))})),a.length>0?this.fileLoader=a:t.preventDefault()},onDragOver:function(t){t.preventDefault()}}};_.render=d;var S=_,I={name:"App",components:{ContentBlock:S}};n("579c");I.render=o;var k=I;n("df06");Object(a["b"])(k).mount("#app")},"579c":function(t,e,n){"use strict";n("bea9")},a4ef:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},bea9:function(t,e,n){},df06:function(t,e,n){}});
//# sourceMappingURL=app.7c65a7cf.js.map